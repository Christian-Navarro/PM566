---
title: "Lab 04 - Exploratory Data Analysis"
output: html_document
link-citations: yes
---



<div id="learning-goals" class="section level1">
<h1>Learning Goals</h1>
<ul>
<li>Read in and prepare the meteorological dataset</li>
<li>Create several graphs with different <code>geoms()</code> in <code>ggplot2</code></li>
<li>Create a facet graph</li>
<li>Conduct some customizations to the graphs</li>
<li>Create a more detailed map using <code>leaflet()</code></li>
</ul>
</div>
<div id="lab-description" class="section level1">
<h1>Lab Description</h1>
<p>We will again work with the meteorological data presented in lecture.</p>
<p><strong>The objective of the lab is to examine the association between monthly average dew point temperature and relative humidity in four regions of the US and by elevation.</strong></p>
</div>
<div id="steps" class="section level1">
<h1>Steps</h1>
<div id="read-in-the-data" class="section level3">
<h3>1. Read in the data</h3>
<p>First download and then read in with data.table:fread()</p>
<pre class="r"><code>download.file(&quot;https://raw.githubusercontent.com/USCbiostats/data-science-data/master/02_met/met_all.gz&quot;, &quot;met_all.gz&quot;, method=&quot;libcurl&quot;, timeout = 60)
met &lt;- data.table::fread(&quot;met_all.gz&quot;)</code></pre>
</div>
<div id="prepare-the-data" class="section level3">
<h3>2. Prepare the data</h3>
<ul>
<li>Remove temperatures less than -17C</li>
<li>Make sure there are no missing data in the key variables coded as 9999, 999, etc</li>
<li>Take monthly averages by weather station</li>
<li>Create a region variable for NW, SW, NE, SE based on lon = -98.00 and lat = 39.71 degrees</li>
<li>Create a categorical variable for elevation as in the lecture slides</li>
</ul>
</div>
<div id="use-geom_boxplot-to-examine-the-dew-point-temperature-and-relative-humidity-by-region" class="section level3">
<h3>3. Use <code>geom_boxplot</code> to examine the dew point temperature and relative humidity by region</h3>
<ul>
<li>Use facets</li>
<li>Make sure to deal with <code>NA</code> category</li>
<li>Describe what you observe in the graph</li>
</ul>
</div>
<div id="use-geom_point-with-stat_smooth-to-examine-the-association-between-dew-point-temperature-and-relative-humidity-by-region" class="section level3">
<h3>4. Use <code>geom_point</code> with <code>stat_smooth</code> to examine the association between dew point temperature and relative humidity by region</h3>
<ul>
<li>Colour points by region</li>
<li>Make sure to deal with <code>NA</code> category</li>
<li>Fit a linear regression line by region</li>
<li>Describe what you observe in the graph</li>
</ul>
</div>
<div id="use-geom_bar-to-create-barplots-of-the-weather-stations-by-elevation-category-coloured-by-region" class="section level3">
<h3>5. Use <code>geom_bar</code> to create barplots of the weather stations by elevation category coloured by region</h3>
<ul>
<li>Bars by elevation category</li>
<li>Change colours from the default. Colour by region using <code>scale_fill_brewer</code> see <a href="http://rstudio-pubs-static.s3.amazonaws.com/5312_98fc1aba2d5740dd849a5ab797cc2c8d.html">this</a></li>
<li>Create nice labels on axes and add a title</li>
<li>Describe what you observe in the graph</li>
</ul>
</div>
<div id="use-stat_summary-to-examine-mean-dew-point-and-relative-humidity-by-region-with-standard-deviation-error-bars" class="section level3">
<h3>6. Use <code>stat_summary</code> to examine mean dew point and relative humidity by region with standard deviation error bars</h3>
<ul>
<li>Make sure to remove <code>NA</code></li>
<li>Use fun.data=“mean_sdl” in <code>stat_summary</code></li>
<li>Describe the graph and what you observe</li>
</ul>
</div>
<div id="make-a-map-showing-the-spatial-trend-in-relative-humidity-in-the-us" class="section level3">
<h3>7. Make a map showing the spatial trend in relative humidity in the US</h3>
<ul>
<li>Make sure to remove <code>NA</code></li>
<li>Use leaflet()</li>
<li>Make a colour palette with custom colours</li>
<li>Add a legend</li>
</ul>
</div>
<div id="use-a-ggplot-extension" class="section level3">
<h3>8. Use a ggplot extension</h3>
<ul>
<li>Pick and extension (except cowplot) from <a href="https://exts.ggplot2.tidyverse.org/gallery/">here</a> and make a plot of your choice using the met data (or met_avg)</li>
<li>Might want to try examples that come with the extension first (e.g. ggtech, gganimate, ggforce)</li>
</ul>
</div>
</div>
